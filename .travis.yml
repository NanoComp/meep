language: cpp
addons:
  apt:
    packages:
    - guile-2.0-dev
    - libgsl0-dev
    - libfftw3-dev
    - gfortran
    - libhdf5-serial-dev
    - liblapack-dev
    - python-numpy
    - swig
script:
  - ./autogen.sh --enable-shared --with-python --without-libctl
  - make
  - cd python
  - ln -s .libs/_meep.so .
  - PYTHONPATH=. python -c 'import meep'
  - cd
  - exit 0
